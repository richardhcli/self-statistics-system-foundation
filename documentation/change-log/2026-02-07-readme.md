# Change Log â€” 2026-02-07

## Change: massive refactor: journal-architecture-plan

Phase 1 of the Journal refactor is complete: the journal store types are now normalized for the Firebase read-aside model, the ID generator schema is finalized, and feature-level type exports were updated to match the new entry and tree structures. The architecture guidelines were aligned with the hybrid read-aside philosophy to reflect Firebase as the source of truth with Zustand/IndexedDB as cache.

Phase 2 is complete: the Firebase journal service layer now implements tree subscriptions, month-range entry fetches using document ID prefixes, and batch write helpers for entry and tree updates.

Phase 3 is complete: the journal store now uses a normalized entry map with a lightweight tree index, cache metadata for TTL checks, and Firebase-backed month fetching, with UI components updated to read from the new tree + entry cache shape.

Phase 4 is complete: the unified journal entry pipeline now handles draft creation, transcription, AI analysis, and Firebase updates; legacy create-entry and voice orchestration hooks were removed to enforce the new pipeline.

A new CDAG topology read-aside migration plan was added, outlining how the graph store will move to Firebase once the journal refactor is fully stabilized.

Phase 5 and Phase 6 are complete: cache-aware UI fetching is wired into JournalView, and a migration utility now wipes legacy journal cache keys on boot.

Journal feature documentation was refreshed for the unified pipeline and read-aside storage model in documentation/docs-features/journal.
